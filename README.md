# ChatGPT DOM Cleaner (Chrome MV3)

Расширение разгружает большие диалоги ChatGPT: удаляет старые DOM-узлы сообщений (`article`) в рамках текущего диалога, оставляя последние 3. Это заметно снижает лаги, когда DOM разрастается.

## Установка (Load unpacked)

1. Открой `chrome://extensions`
2. Включи **Developer mode**
3. Нажми **Load unpacked**
4. Выбери папку проекта (где лежит `manifest.json`)

## Использование

- **Кнопка в интерфейсе ChatGPT**: `Разгрузить чат` (появляется, только если сообщений > 3)
- **Popup**: нажми иконку расширения → `Очистить DOM (оставить 3)`
- **Контекстное меню**: ПКМ по странице → `Очистить DOM узлы в чате (оставить 3)`

Поддерживаемые домены:
- `chatgpt.com`
- `chat.openai.com`

## Как это работает

- В страницу ChatGPT встраивается лёгкая кнопка (контент-скрипт).
- По клику удаляются старые сообщения из DOM (по селектору `article[data-testid^="conversation-turn"]`, fallback: `article`, всегда в рамках `main`).
- Остаются только последние 3 `article`.

## Публикация в Chrome Web Store (готовые тексты)

Ниже — готовые поля, которые можно копипастить в форму Chrome Web Store.

### Short description

Разгружает большие чаты ChatGPT: удаляет старые сообщения из DOM, оставляя последние 3 — браузер перестаёт тормозить.

### Detailed description

ChatGPT DOM Cleaner ускоряет работу браузера в длинных переписках на ChatGPT.

Что делает:
- по клику удаляет старые DOM-узлы сообщений (`article`) в текущем диалоге
- оставляет последние 3 сообщения в DOM
- работает через кнопку в интерфейсе ChatGPT, popup и контекстное меню

Данные никуда не отправляются: операция происходит локально в браузере.

### Single purpose (важно для модерации)

Единственная цель расширения — уменьшить нагрузку на браузер в длинных чатах ChatGPT путём удаления старых узлов сообщений из DOM (с сохранением последних 3).

### Permissions justification

- `scripting`: чтобы по пользовательскому действию выполнить код чистки DOM на активной вкладке.
- `activeTab`: чтобы получить временный доступ к активной вкладке (только после клика пользователя) для запуска чистки и чтения типографики для popup.
- `contextMenus`: чтобы добавить пункт “Разгрузить чат (оставить 3)” в контекстное меню.

### Host permissions justification

- `https://chatgpt.com/*`, `https://chat.openai.com/*`: чтобы встроить кнопку в интерфейс ChatGPT и выполнять чистку DOM на этих страницах.

### Data usage / Privacy

- Сбор данных: нет
- Передача данных по сети: нет
- Аналитика/трекинг: нет
- Хранение: нет

Privacy Policy: см. `PRIVACY.md` (для листинга в Web Store лучше дать публичную ссылку на этот текст).

### Support

Заполни в листинге:
- Support email: `<your-email>`
- Website: `<your-url>` (можно GitHub repo)
